<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `compose` mod in crate `domain`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, compose">

    <title>domain::bits::compose - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../../normalize.css">
    <link rel="stylesheet" type="text/css" href="../../../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../../../main.css">
    

    
    
</head>
<body class="rustdoc mod">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='../../index.html'>domain</a>::<wbr><a href='../index.html'>bits</a></p><script>window.sidebarCurrent = {name: 'compose', ty: 'mod', relpath: '../'};</script><script defer src="../sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Module <a href='../../index.html'>domain</a>::<wbr><a href='../index.html'>bits</a>::<wbr><a class="mod" href=''>compose</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../../../src/domain/bits/compose.rs.html#1-881' title='goto source code'>[src]</a></span></h1>
<div class='docblock'><p>Assembling wire-format DNS data.</p>

<p>This module provides helper types for assembling the wire format of a
DNS message, a process termed <em>composing</em> to distinguish it from other
procedures that turn DNS data into some output such as formatting into
human-readable data.</p>

<p>There are two main types here. <a href="struct.Composer.html"><code>Composer</code></a> owns a bytes vector and
provides a number of methods allowing to append data to it meanwhile
making sure that certain conditions such as the maximum message size are
being fulfilled. These conditions are defined through the <a href="enum.ComposeMode.html"><code>ComposeMode</code></a>.</p>

<p>The <a href="struct.Composer.html"><code>Composer</code></a> has a companion type <a href="struct.ComposeSnapshot.html"><code>ComposeSnapshot</code></a> that wraps the
original composer but allows it to roll back to an earlier state. The
intention here is to reuse a partly assembled message a second attempt
with slightly different data.</p>

<p>As a convenience, there is a trait <a href="trait.Composable.html"><code>Composable</code></a> that can be implemented
for types that know how to add themselves to a message-to-be.</p>

<h1 id='todo' class='section-header'><a href='#todo'>Todo</a></h1>
<p>Snapshots currently clone the compression map. As this is costly, we
should have a way to either only clone on write or allow turn off 
compressing before cloning. This isn’t all that important, though, since
we can create requests (which contain exactly one domain name in their
only question) with compression turned off entirely.</p>
</div><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class="struct" href="struct.ComposeSnapshot.html"
                                  title='struct domain::bits::compose::ComposeSnapshot'>ComposeSnapshot</a></td>
                           <td class='docblock-short'>
                                <p>A snapshot of a composer’s state.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class="struct" href="struct.Composer.html"
                                  title='struct domain::bits::compose::Composer'>Composer</a></td>
                           <td class='docblock-short'>
                                <p>A type for assembling a wire-format DNS message.</p>
                           </td>
                       </tr></table><h2 id='enums' class='section-header'><a href="#enums">Enums</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class="enum" href="enum.ComposeError.html"
                                  title='enum domain::bits::compose::ComposeError'>ComposeError</a></td>
                           <td class='docblock-short'>
                                <p>An error happening when composing wire-format DNS data.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class="enum" href="enum.ComposeMode.html"
                                  title='enum domain::bits::compose::ComposeMode'>ComposeMode</a></td>
                           <td class='docblock-short'>
                                <p>An enum determining the construction mode of a composition.</p>
                           </td>
                       </tr></table><h2 id='traits' class='section-header'><a href="#traits">Traits</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class="trait" href="trait.Composable.html"
                                  title='trait domain::bits::compose::Composable'>Composable</a></td>
                           <td class='docblock-short'>
                                <p>A trait allowing types to compose themselves.</p>
                           </td>
                       </tr></table><h2 id='types' class='section-header'><a href="#types">Type Definitions</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class="type" href="type.ComposeResult.html"
                                  title='type domain::bits::compose::ComposeResult'>ComposeResult</a></td>
                           <td class='docblock-short'>
                                <p>The result type for a <code>ComposeError</code>.</p>
                           </td>
                       </tr></table></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../../";
        window.currentCrate = "domain";
    </script>
    <script src="../../../jquery.js"></script>
    <script src="../../../main.js"></script>
    <script defer src="../../../search-index.js"></script>
</body>
</html>